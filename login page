public class Project extends JFrame implements ActionListener{ 

  

    private JTextField t1; 

    private JPasswordField t2; 

    private JButton b1,b2; 

    private JLabel l1,l2; 

     

     

     

    public Project(String name){ 

        super(name); 

        setSize(500,500); 

        setLocation(500,600); 

         

        l1=new JLabel("Login"); 

        l2=new JLabel("Password "); 

         

        t1=new JTextField(20); 

        t2=new JPasswordField(20); 

         

        b1=new JButton("Enter"); 

        b2=new JButton("Cancel"); 

         

        JPanel p =(JPanel)getContentPane(); 

        p.setLayout(new GridLayout(2,1)); 

         

        JPanel p1=new JPanel(); 

        p1.setLayout(new GridLayout(2,2)); 

        p1.add(l1); 

        p1.add(t1); 

        p1.add(l2); 

        p1.add(t2); 

        JPanel p2=new JPanel(); 

        p2.setLayout(new FlowLayout(FlowLayout.CENTER)); 

        p2.add(b1); 

        p2.add(b2); 

         

        p.add(p1); 

        p.add(p2); 

         

        b1.addActionListener(this); 

        b2.addActionListener(this); 

        pack(); 

        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); 

        setVisible(true);  

    } 

     

    public void actionPerformed(ActionEvent e) { 

    JButton bt = (JButton) e.getSource(); 

    if (bt==b1){ 

        /*if(){ 

             

        } 

        else { 

          JOptionPane.showMessageDialog(null, "Chenck Your Login and Password ", "Input Error", JOptionPane.ERROR_MESSAGE); 

  

        }*/ 

    } 

     

    else{ 

        t1.setText(null); 

        t2.setText(null); 

    } 

    } 


///////////////////////////////////////////////


import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;

public class LoginApplication extends JFrame {
    private JTextField loginTextField;
    private JPasswordField passwordField;
    private static final String DATABASE_URL = "jdbc:ucanaccess://C:/Users/Rafeef/javaApps/firsttry/Database1.accdb";
    private static final String user = "";
    private static final String password = "";

    public LoginApplication() {
        super("Login Application");

        // Create UI components
        JLabel loginLabel = new JLabel("Login:");
        JLabel passwordLabel = new JLabel("Password:");
        loginTextField = new JTextField(20);
        passwordField = new JPasswordField(20);
        JButton enterButton = new JButton("Enter");
        JButton cancelButton = new JButton("Cancel");

        // Set layout
        setLayout(new GridLayout(3, 2));

        // Add components to the frame
        add(loginLabel);
        add(loginTextField);
        add(passwordLabel);
        add(passwordField);
        add(enterButton);
        add(cancelButton);

        // Add action listeners to the buttons
        enterButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                String login = loginTextField.getText();
                String password = new String(passwordField.getPassword());

                // Perform login verification
                if (verifyLogin(login, password)) {
                    if (isAdmin(login)) {
                        openAdminPage();
                    } else {
                        openUserPage();
                    }
                } else {
                    JOptionPane.showMessageDialog(LoginApplication.this, "Check your login and password", "Error", JOptionPane.ERROR_MESSAGE);
                }
            }
        });

        cancelButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                // Clear text fields
                loginTextField.setText("");
                passwordField.setText("");
            }
        });

        // Set frame properties
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setSize(300, 150);
        setLocationRelativeTo(null);
        setResizable(false);
    }

    private boolean verifyLogin(String user, String password) {
        try (Connection connection = getConnection()) {
            // Prepare the SQL statement
            String query = "SELECT username, password FROM Users WHERE username = ? AND password = ?";
            try (PreparedStatement statement = connection.prepareStatement(query)) {
                statement.setString(1, user);
                statement.setString(2, password);

                // Execute the query
                try (ResultSet resultSet = statement.executeQuery()) {
                    // Return true if at least one row is found in the result set
                    return resultSet.isBeforeFirst();
                }
            }
        } catch (SQLException e) {
            e.printStackTrace();
            return false;
        }
    }

    private boolean isAdmin(String login) {
        // TODO: Implement logic to check if the user is an admin
        // Check if the login belongs to an admin
        return login.equals("admin"); // Replace with your own logic
    }

    private void openAdminPage() {
        JOptionPane.showMessageDialog(this, "Welcome, Admin!");
    }

    private void openUserPage() {
        JOptionPane.showMessageDialog(this, "Welcome, User!");
    }

    private Connection getConnection() throws SQLException {
        try {
            Class.forName("net.ucanaccess.jdbc.UcanaccessDriver");
        } catch (ClassNotFoundException e) {
            e.printStackTrace();
        }

        System.out.println("Attempting to connect to the database...");
        System.out.println("Database URL: " + DATABASE_URL);
        System.out.println("User: " + user);
        System.out.println("Password: " + password);

        Connection connection = DriverManager.getConnection(DATABASE_URL, user, password);
        System.out.println("Connection successful!");

        return connection;
    }

    public static void main(String[] args) {
        SwingUtilities.invokeLater(new Runnable() {
            @Override
            public void run() {
                LoginApplication loginApp = new LoginApplication();
                loginApp.setVisible(true);
            }
        });
    }
}
